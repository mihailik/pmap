{"version":3,"file":"index.js","sourceRoot":"","sources":["src/a-first/a-early.ts","src/a-first/mockPromise.ts","src/node/bootNode.ts","src/node/main.ts","src/x-last/x-run.ts"],"names":[],"mappings":"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","sourcesContent":["/// <reference lib=\"es2015\" />\r\nnamespace a_first {\r\n\r\n  if (typeof Promise === 'undefined') {\r\n    mockPromise();\r\n  }\r\n\r\n}","namespace a_first {\r\n\r\n  export function mockPromise() {\r\n    // TODO: very basic Promise mock - enough for TypeScript async\r\n  }\r\n\r\n}","namespace node {\r\n\r\n  export function bootNode() {\r\n    try {\r\n      const promise = main();\r\n      if (promise && typeof promise.then === 'function')\r\n        promise.then(\r\n          () => {\r\n            // success: OK\r\n          },\r\n          error => {\r\n            console.error(error);\r\n          });\r\n    }\r\n    catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n}","namespace node {\r\n\r\n  export async function main() {\r\n    let puppeteer: typeof import(\"puppeteer\");\r\n    try {\r\n      console.log('puppeteer...');\r\n      puppeteer = require('puppeteer');\r\n    }\r\n    catch (error) {\r\n      error.message = 'Google Puppeteer is missing: ' + error.message;\r\n      throw error;\r\n    }\r\n\r\n    console.log('browser...');\r\n    const browser = await puppeteer.launch({\r\n      headless: false\r\n    });\r\n\r\n    try {\r\n\r\n      console.log('mainPage...');\r\n      const mainPage = (await browser.pages())[0] || await browser.newPage();\r\n\r\n      console.log('setContent...');\r\n      await mainPage.setContent('<html><head><title>Map Tile Scraper</title></head><body></body></html>');\r\n\r\n      await withBrowser(browser, mainPage);\r\n    }\r\n    finally {\r\n      console.log('close...');\r\n      await browser.close();\r\n    }\r\n  }\r\n\r\n  async function withBrowser(browser: import(\"puppeteer\").Browser, mainPage: import(\"puppeteer\").Page) {\r\n\r\n  }\r\n}","/// <reference types=\"node\" />\r\n\r\nnamespace x_last {\r\n\r\n  if (typeof WScript !== 'undefined') {\r\n    WScript.Echo('Download NODE using ActiveXObject and InternetExplorer.Application')\r\n  }\r\n  else if (typeof require === 'function' && typeof process !== 'undefined' && typeof module !== 'undefined' && process && module) {\r\n    node.bootNode();\r\n  }\r\n\r\n}"]}